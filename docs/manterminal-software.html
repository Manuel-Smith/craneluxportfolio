<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manterminal Fs Utility</title>
    <link rel="stylesheet" href="main.css" />
    <link rel="icon" type="image/png" href="../images/logo.png" />
    <link rel="stylesheet" href="../manterminal-styling.css" />
    <link rel="stylesheet" href="../utilities.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body>
    <header id="header">
      <div class="margin-sides header-holder">
        <div class="icon-frame">
          <a href="/">
            <span class="material-symbols-outlined"> keyboard_backspace </span>
          </a>
        </div>

        <div id="menu-item" class="icon-frame menu-item">
          <div class="bars bar-tilt"></div>
          <div class="bars bar-none"></div>
          <div class="bars bar-tilt"></div>
        </div>
        <div class="menu">
          <ul>
            <li>
              <span class="material-symbols-outlined"> home </span>
              <a href="/">Home</a>
            </li>
            <li>
              <span class="material-symbols-outlined">
                supervised_user_circle
              </span>
              <a href="/about.html">About</a>
            </li>
          </ul>
        </div>
      </div>
    </header>
    <aside class="config-menu">
      <div class="toc-header"><h1>Guide</h1></div>
      <nav>
        <p>Project Overview</p>
        <p>What is Manterminal</p>
        <p>How It works</p>
        <p>&gt;_mkfile</p>
        <p>&gt;_delfile</p>
        <p>&gt;_renfile</p>
        <p>&gt;_appendfile</p>
        <p>&gt;_--help</p>
        <p>Who Is the Doc For?</p>
        <p>Node Installation</p>
        <p>Importing Packages</p>
        <p>Constant Variables</p>
        <p>Opening and Watching the Test File</p>
        <p>commandFileHandler.on() Method</p>
        <p>Memory Management</p>
        <p>Operations module</p>
        <p>createFile</p>
        <p>deleteFile</p>
        <p>renameFile</p>
        <p>addToFile</p>
        <p>helpGuide</p>
        <p>exporting module functions</p>
        <p>Additional resources</p>
      </nav>
    </aside>
    <div class="main-content">
      <div class="div-sections">
        <div class="content-area">
          <h1>Project Overview</h1>
          <h2>What is Manterminal?</h2>
          <p>
            Manterminal is a File System utility that emulates a command line
            interface. The purpose of this tool is to:
          </p>
          <ol>
            <li>Create files</li>
            <li>Delete files</li>
            <li>Rename files</li>
            <li>Add content to a file.</li>
          </ol>
          <p>
            Manterminal is a personal project, and I am working diligently to
            add more functionality. With time, I will add a User-friendly CLI,
            making it the go-to command line tool compatible with the Windows OS
            and Unix-based operating systems.
          </p>
          <h2>How It works</h2>
          <p>
            Manterminal requires a user to enter an instruction in the
            commands.txt file. Upon saving the file, the operating system
            executes depending on how you fill in the parameters.
          </p>
          <strong>Prerequisites:</strong>
          <p>One must run node.js 18.16.0 or later versions.</p>
          <strong>Parameters for input in the commands.txt file.</strong>
          <h3>&gt;_ mkfile</h3>
          <p>
            Creates a file in the file path that the user specifies. If the file
            already exists, the operating system will through an error message
            to the terminal.
          </p>
          <p><strong>Pattern:</strong> mkfile &lt;path&gt;</p>
          <p>
            <strong>Success Message:</strong> Creating file &lt;path&gt; was
            successful…
          </p>
          <p>
            <strong>Possible Error Message:</strong> The file &lt;path&gt;
            already exists.
          </p>

          <h3>&gt;_ delfile</h3>
          <p>
            Deletes a file in the file path that the user specifies. If the file
            does not exist, the operating system will through an error message
            to the terminal.
          </p>
          <p><strong>Pattern:</strong> delfile &lt;path&gt;</p>
          <p>
            <strong>Success Message:</strong> Renaming &lt;old-path&gt; to
            &lt;new-path&gt;.
          </p>
          <p>
            <strong>Possible Error Message:</strong> Error: File &lt;path&gt;
            does not exist.
          </p>
          <h3>&gt;_ appendfile</h3>
          <p>
            Enables the user to add content to a file path that a user
            specifies. If the file does not exist, the operating system creates
            a new file in that same path and adds the appended content.
          </p>
          <p>
            <strong>Pattern:</strong> appendfile &lt;path&gt; this content:
            &lt;content&gt;.
          </p>
          <p>
            <strong>Success Message:</strong> Content added to the file
            &lt;path&gt;.
          </p>
          <div class="notice">
            <div class="side-margin"></div>
            <strong>Important Note!</strong>
            <p>
              There is no Error message for this command. The error-handling
              functionality for this instruction will be available in the next
              release.
            </p>
          </div>
          <h3>&gt;_ --help</h3>
          <p>
            The help command lists all the available instructions and their
            purpose in case a user cannot remember them.
          </p>
          <p><strong>Pattern:</strong> --help</p>
          <h2>Who is The Doc For?</h2>
          <p>
            This documentation is for individual programmers looking for
            open-source projects to contribute. I manage Manterminal under the
            MIT license, and all users have permission to share or reuse the
            source code.
          </p>
        </div>
        <div class="code-area"><p></p></div>
      </div>
      <div class="div-sections">
        <div class="content-area">
          <h1>Node Installation</h1>
          <p>
            In your terminal, check if you already have Node.js installed on
            your device using the command:
          </p>
          <div class="code-clip">
            <button class="button-copy">
              <span class="material-symbols-outlined"> content_copy </span>Copy
              code
            </button>
            <pre>node --version</pre>
          </div>
          <p>
            If the command line does not return any version number, then Node.js
            is not installed on your device.
          </p>
          <p>
            For Microsoft Windows users, Click Here to Download the Node.js
            installer.
          </p>
          <p>For Linux users, run the command:</p>
          <div class="code-clip">
            <button class="button-copy">
              <span class="material-symbols-outlined"> content_copy </span>Copy
              code
            </button>
            <pre>sudo apt-get -y install nodejs</pre>
          </div>
          <p>
            Node.js automatically installs the NPM. There is no need to install
            the package manager separately.
          </p>
          <div class="notice">
            <div class="side-margin"></div>
            <strong>Important Note!</strong>
            <p>
              After installing node.js, clone this GitHub repository to acquire
              the working files.
            </p>
          </div>
          <h1>Requiring packages</h1>
          <p>
            In the app.js file, we start by Importing modules. This project
            requires one custom and two Inbuilt Node.js modules:
          </p>
          <ol>
            <li>
              fs/promises - An asynchronous api that manages the file system and
              its events.
            </li>
            <li>
              path - An api that creates or resolves paths and directories.
            </li>
            <li>
              operations module. The operations module is custom. This module
              contains all the function definitions for handling input commands.
            </li>
          </ol>
          <h1>Command Constants</h1>
          <p>
            To prevent the variables from polluting the global, we declare them
            in an IIFE and store them in the IIFE's local scope.
          </p>
          <p>
            The IIFE is an async function. In a minute, I’ll explain why to use
            an async function. In the try block of the Async IIFE function, we
            first declare constant variables. These are the input commands a
            user enters in the commands.txt file.
          </p>
          <p>
            Besides, we’ve also declared a variable commandFilePath. This
            command specifies the file path of the commands.txt file.
          </p>
          <h1>Opening and Watching Test File.</h1>
          <p>
            To open the commands.txt file in memory with read-only permissions,
            we use the await fs.open() method in the fs/promises module. This
            method returns a promise that inherits from the FileHandle class.
            The FileHandle class is an event emitter. We can take advantage of
            methods like .on(), .emit(), .addEventListener(), etc.
          </p>
          <p>
            The fs.watch() method tracks all the changes saved in the
            commands.txt file. It returns an Async Iterator assigned to the
            constant variable watcher. We iterate over this Async Iterator using
            the await for...of loop to extract events.
          </p>

          <h1>commandFileHandler.on() Method.</h1>
          <p>
            Since the returned value stored in the commandFileHandler variable
            inherits from the FileHandle class, we utilize event handlers like
            .on() and .emit().
          </p>
          <p>
            Therefore, we will call commandFileHandler.on() and pass in the
            change event as the first parameter and a listener as an async
            callback function for the 2nd parameter.
          </p>
          <h1>Memory Management</h1>
          <p>
            On opening the commands.txt file, we must read its data into memory.
            However, Node.js is poor at managing memory, and we must configure
            it ourselves. By default, Node.js preserves over 60000 bits to store
            a data set that requires only a few bits.
          </p>
          <p>
            A developer must explicitly define how much memory to use when
            storing the read data on opening the commands.txt file.
          </p>
          <p>
            Therefore, we dynamically assign memory size to a buffer size
            variable on opening the commands.txt file.
          </p>
        </div>
        <div class="code-area"></div>
      </div>
      <div class="div-sections">
        <div class="content-area">
          <h1>Operations module</h1>
          <p>
            The operations module has five async functions. These functions
            perform various independent tasks, and each call relies on the user
            input in the commands.txt file. Below is an outline of what each
            function definition does.
          </p>
          <h2>createFile()</h2>
          <p>
            This function takes one parameter, a file path. Then performs checks
            to see if the file already exists. If the file exists, the operating
            system will through an error message `The file &gt;path&gt; already
            exists.` If it does not exist, it will create the file.
          </p>
          <p>
            We check if the file exists by opening the path in read-only mode
            using the fs.open(path, ‘r’) method with the flag ‘r’.
          </p>
          <p>
            If the file does not exist, we create the file by opening the path
            asynchronously in write mode using the fs.open(path, ‘w’) method
            with the flag ‘w’.
          </p>
          <p>
            Whenever you make an open system call, do not forget to close it.
            Use the code:
          </p>
          <div class="code-clip">
            <button class="button-copy">
              <span class="material-symbols-outlined"> content_copy </span>Copy
              code
            </button>
            <pre>await fs.close();</pre>
          </div>

          <h2>deleteFile</h2>
          <p>
            This function definition has one parameter, a file path. In the try
            block, we asynchronously remove the file using the fs.unlink(path)
            method.
          </p>
          <p>
            If the path does not exist, The operating system will through an
            error message.
          </p>
          <h2>renameFile()</h2>
          <p>
            The renameFile function takes two parameters, an old file path, and
            a new file path. The new file path replaces the old one if it
            exists. We use the fs.rename(oldPath, newPath) method.
          </p>
          <p>
            If the file does not exist, the operating system will through an
            error message.
          </p>
          <h2>addToFile()</h2>
          <p>
            The addToFile function takes two parameters, path and content
            parameters. The content parameter takes the data the user enters and
            adds it to the file path. If the file does not exist, the operating
            system will create one and append the content.
          </p>
          <p>
            We add this content using the method fs.appendFile(path, content).
          </p>
          <h2>helpGuide()</h2>
          <p>This function definition logs all instructions a user needs.</p>
          <h2>exporting module functions</h2>
          <p>
            We need all these modules in the app.js file. So, we use the
            destructuring assignment to export all these functions.
          </p>
          <h1>Additional resources.</h1>
          <p>Node.js documentation</p>
          <p>Mozilla Developer Network</p>
          <p>W3School</p>
          <p>Geek For Geeks</p>
        </div>

        <div class="code-area"></div>
      </div>
      <footer id="footer-docs">
        <h1>Manuel Smith</h1>
        <p>
          Technical Writer and Node.Js Developer:
          <span
            ><a href="mailto:manuel@cranelux.com">manuel@cranelux.com</a></span
          >
        </p>
        <p><a href="#">Terms</a> | <a href="#">Privacy</a></p>
        <p>
          <a href="https://www.linkedin.com/in/manuel-smith/" target="_blank"
            >Linkedin</a
          >
          |
          <a href="https://github.com/Manuel-Smith" target="_blank">GitHub</a> |
          <a href="https://www.codewars.com/users/Manuel-smith" target="_blank"
            >CodeWars</a
          >
        </p>
      </footer>
    </div>

    <script src="../menu.js"></script>
    <script src="../copyClipboard.js"></script>
  </body>
</html>
